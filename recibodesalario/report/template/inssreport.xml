<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="recibo_report_ins">
        <t t-call="web.basic_layout">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <div style="font-family: Arial, sans-serif; margin: 0; padding: 0; color: #333;">

                        <div style="padding: 20px;">
                            <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                                <div>

                                    <div style="display: flex; align-items: center; justify-content: center; margin-bottom:10px;">
                                        <img src="/recibodesalario/static/img/Emblem_of_Mozambique.svg.png" alt=""
                                             style="width: 60px;"/>
                                    </div>

                                    <h6 style="margin: 0;text-align: center;">República de Moçambique</h6>
                                    <h4 style="margin: 0;text-align: center;">Instituto Nacional de Segurança Social
                                    </h4>
                                </div>
                            </div>
                        </div>


                        <div style="font-family: Arial, sans-serif; margin: 0; padding: 0; font-size: 10px;">
                            <div class="table-container" style="margin: 20px; overflow-x: auto;">
                                <table style="border-collapse: collapse; width: 100%; table-layout: fixed;">
                                    <thead>
                                        <tr>
                                            <th rowspan="2"
                                                style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Números
                                            </th>
                                            <th rowspan="2"
                                                style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Nomes completos
                                            </th>
                                            <th rowspan="2"
                                                style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Data de Nascimento
                                            </th>
                                            <th colspan="2"
                                                style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Rem. Diversas
                                            </th>
                                            <th rowspan="2"
                                                style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Comissões<br/>Bônus e Indem.
                                            </th>
                                            <th rowspan="2"
                                                style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Subs. Férias,<br/>retribuição por<br/>subst. de gozo férias
                                            </th>
                                            <th rowspan="2"
                                                style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Grupo de Escala
                                            </th>
                                            <th rowspan="2"
                                                style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Incapacidade<br/>Acid. de Trab.<br/>Doença Prof.
                                            </th>
                                            <th rowspan="2"
                                                style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Observações
                                            </th>
                                        </tr>
                                        <tr>
                                            <th style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                Dias
                                            </th>
                                            <th style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; background-color: #f2f2f2; font-weight: bold; font-size: 10px;">
                                                salário base
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                        <t t-foreach="sorted(doc.linhas_agregadas, key=lambda line: line.employee_id.name)"
                                           t-as="line">
                                            <tr>
                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">
                                                    <t t-esc="line.numero_contribuinte"/>
                                                </td>

                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">
                                                    <t t-esc="line.employee_id.name"/>
                                                </td>

                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">
                                                    <t t-esc="line.birthday"/>
                                                </td>

                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">
                                                    <t t-esc="'{:.0f}'.format(line.worked_days - line.total_leaves)"/>
                                                </td>

                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">
                                                    <t t-esc="line.basic_amount"/>
                                                </td>

                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">
                                                    <t t-esc="line.inc_amount"/>
                                                </td>

                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">
                                                </td>

                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">
                                                    <t t-esc="line.job_position"/>
                                                </td>

                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">

                                                </td>

                                                <td style="border: 1px solid #000; text-align: center; padding: 5px; word-wrap: break-word; font-size: 10px;">

                                                </td>
                                            </tr>

                                        </t>

                                    </tbody>
                                </table>
                            </div>
                        </div>


                        <div style="font-family: Arial, sans-serif; margin: 20px;">
                            <div class="table-container" style="display: flex; justify-content: space-between;">

                                <table style="border-collapse: collapse; width: 35%; font-size: 10px;">
                                    <thead>
                                        <tr>
                                            <th colspan="2"
                                                style="text-align: center; font-weight: bold; border: 1px solid black; padding: 4px;">
                                                A PREENCHER PELA ENTIDADE EMPREGADORA
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td colspan="2"
                                                style="text-align: right; border: 1px solid black; padding: 4px;">
                                                ___ , ___ de Maio de ___ 2021
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2"
                                                style="border: 1px solid black; padding: 4px; height: 30px; text-align: center;">
                                                (Assinatura e carimbo)
                                            </td>
                                        </tr>

                                        <tr>
                                            <td colspan="2"
                                                style="text-align: center; font-weight: bold; border: 1px solid black; padding: 4px;">
                                                CÁLCULO DAS CONTRIBUIÇÕES A DEPOSITAR
                                            </td>
                                        </tr>

                                        <tr>

                                            <td style="border: 1px solid black; padding: 4px;">(Totais das colunas
                                                5/6/7)
                                            </td>


                                            <td style="border: 1px solid black; padding: 4px; text-align: right;">
                                                <t t-esc="(line.inc_amount + line.basic_amount)"/>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="border: 1px solid black; padding: 4px;">7% S/Total Pago</td>
                                            <td style="border: 1px solid black; padding: 4px; text-align: right;">
                                                6,316,225.67 MT
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="border: 1px solid black; padding: 4px;">Arredondamento</td>
                                            <td style="border: 1px solid black; padding: 4px; text-align: right;">0.00
                                                MT
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="border: 1px solid black; padding: 4px;">Total a depositar</td>
                                            <td style="border: 1px solid black; padding: 4px; text-align: right;">
                                                442,135.80 MT
                                            </td>
                                        </tr>

                                    </tbody>
                                </table>

                            </div>
                        </div>

                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>

