<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="recibo_report_ins">
        <t t-call="web.basic_layout">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <div style="font-family: Arial, sans-serif; margin: 0; padding: 0; color: #333;">
                        <div style="padding: 20px;">
                            <div style="display: flex; align-items: center; justify-content: space-between; gap: 10px;">
                                <div>
                                    <img src="/recibodesalario/static/img/Emblem_of_Mozambique.svg.png" alt=""
                                         style="width: 30px;"/>
                                    <h6 style="margin: 0;">República de Moçambique</h6>
                                    <h4 style="margin: 0;">Instituto Nacional de Segurança Social</h4>
                                </div>
                            </div>
                        </div>

                        <t t-set="counter" t-value="0"/>

                        <table style="width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px; text-align: center; font-size: 10px;">
                            <thead>
                                <tr>
                                    <th style="border: 1px solid #000; padding: 5px; vertical-align: middle; font-size: 10px;">
                                        Nº
                                    </th>
                                    <th rowspan="2"
                                        style="border: 1px solid #000; padding: 5px; vertical-align: middle; font-size: 10px;">
                                        Nomes completos
                                    </th>
                                    <th colspan="2" style="border: 1px solid #000; padding: 5px; font-size: 10px;">Data
                                        de Nascimento
                                    </th>
                                    <th colspan="2" style="border: 1px solid #000; padding: 5px; font-size: 10px;">Rem.
                                        Diversas
                                    </th>
                                    <th rowspan="2"
                                        style="border: 1px solid #000; padding: 5px; vertical-align: middle; font-size: 10px;">
                                        Comissões<br/>Bônus e Indem.
                                    </th>
                                    <th rowspan="2"
                                        style="border: 1px solid #000; padding: 5px; vertical-align: middle; font-size: 10px;">
                                        Subs. Férias,<br/>retribuição por<br/>substituição de gozo férias
                                    </th>
                                    <th rowspan="2"
                                        style="border: 1px solid #000; padding: 5px; vertical-align: middle; font-size: 10px;">
                                        Grupo de Escala
                                    </th>
                                    <th rowspan="2"
                                        style="border: 1px solid #000; padding: 5px; vertical-align: middle; font-size: 10px;">
                                        Incapacidade Ac. de Trab.<br/>Doença Prof.
                                    </th>
                                    <th rowspan="2"
                                        style="border: 1px solid #000; padding: 5px; vertical-align: middle; font-size: 10px;">
                                        Observações<br/>Total das Colunas 5/6/7
                                    </th>
                                </tr>
                                <tr>
                                    <th style="border: 1px solid #000; padding: 5px; font-size: 10px;">Dia/Mês/Ano</th>
                                    <th style="border: 1px solid #000; padding: 5px; font-size: 10px;">Dias</th>
                                    <th style="border: 1px solid #000; padding: 5px; font-size: 10px;">Importância</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="sorted(doc.linhas_agregadas, key=lambda line: line.employee_id.name)"
                                   t-as="line">

                                    <t t-set="counter" t-value="counter + 1"/>
                                    <tr>
                                        <td style="text-align: center; padding: 2px; border: 1px solid #000; font-size: 10px;">
                                            <t t-esc="counter"/>
                                        </td>

                                        <td style="border: 1px solid #000; padding: 10px;">
                                            <t t-esc="line.employee_id.name"/>
                                        </td>
                                        <td style="border: 1px solid #000; padding: 10px;">
                                            <t t-esc="line.birthday"/>

                                        </td>
                                        <td style="border: 1px solid #000; padding: 10px;">
                                            <t t-esc="(line.worked_days - line.total_leaves )"/>
                                        </td>
                                        <td style="border: 1px solid #000; padding: 10px;">11.959,60</td>
                                        <td style="border: 1px solid #000; padding: 10px;">5.360,00</td>
                                        <td style="border: 1px solid #000; padding: 10px;">Técnico</td>
                                        <td style="border: 1px solid #000; padding: 10px;">2</td>
                                        <td style="border: 1px solid #000; padding: 10px;">Demissão em 20/06/2021</td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>
